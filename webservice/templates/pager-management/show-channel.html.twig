{% extends 'layout.html.twig' %}

{% block title %}Pagerverwaltung{% endblock %}

{% block main %}
	<main class="main-container mx-auto p-4 pb-5">
		<h1>Pagerverwaltung</h1>

		<div class="mt-4">
			<h2>Channel: {{ channel.name }}</h2>
		</div>

		<div class="row gx-5">
		<div class="py-3 mt-5 bg-body-secondary">
			<dl>
				<dt>Name</dt>
				<dd>{{ channel.name }}</dd>
				<dt>Audible</dt>
				<dd>{{ channel.audible ? 'Yes' : 'No' }}</dd>
				<dt>Vibration</dt>
				<dd>{{ channel.vibration ? 'Yes' : 'No' }}</dd>
			</dl>
			<a href="{{ path('web_pager_management_channel_edit', {id: channel.id} ) }}" class="mt-3 btn btn-sm btn-secondary"><twig:ux:icon name="bi:pencil" height="16" width="16" aria-hidden="true" class="bi me-2"/>Edit</a>
		</div>

		</div>

		<div class="mt-5">
			<h3>Pagers</h3>

			<table class="table">
				<thead>
					<tr>
						<th scope="col">Pager Nr.</th>
						<th scope="col">Pager Bez.</th>
						<th scope="col">Active</th>
						<th scope="col">Carried By</th>
						<th scope="col">Slot</th>
					</tr>
				</thead>
				<tbody>
				{% for p in pager %}
					<tr>
						<th scope="row">1</th>
						<td>{{ p.label }}</td>
						<td>ACTIVE</td>
						<td>Jane Doe</td>
						<td>3</td>
					</tr>
				{% else %}
					<tr><td colspan="5">No Pager</td></tr>
				{% endfor %}
				</tbody>
			</table>
		</div>


		<div class="row gx-5">
		<div class="mt-5 py-3  bg-danger text-bg-danger">
			<h3>Danger Zone</h3>

			<p>This action is destructive and can't be undone. Cap codes will not be removed from pagers automatically, it is recommended to off-board all pager from this channel before deleting the channel.</p>

			{{ form_start(delete_form) }}
			{{ form_errors(delete_form) }}
			{#  <twig:ux:icon name="bi:trash3" height="16" width="16" aria-hidden="true" class="bi me-2"/> #}
			{{ form_widget(delete_form.delete, {'attr': {'class': 'mt-3 btn btn-outline-light'}}) }}
			{{ form_end(delete_form) }}
		</div>
		</div>
	</main>
{% endblock %}
