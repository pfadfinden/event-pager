{% extends 'layout.html.twig' %}

{% block title %}{% trans %}Pager Administration{% endtrans %}{% endblock %}

{% block main %}
	<main class="main-container mx-auto p-4">
		<h1>{% trans %}Pager Administration{% endtrans %}</h1>

		<div class="d-flex gap-3 mt-4">
			<h2>{% trans %}Pager{% endtrans %}</h2>
		</div>

		<div class="d-flex gap-3 mt-3 mb-3">
			<div class="btn-group">
				<a href="{{ path('web_pager_management_pager') }}" class="btn active btn-primary" title="{{ 'Pager'|trans }}">
					<twig:ux:icon name="bi:tablet-landscape-fill" height="16" width="16" aria-hidden="true" class="bi"/>
				</a>
				<a href="{{ path('web_pager_management_channel') }}" class="btn btn-primary" title="{{  'Channel'|trans }}">
					<twig:ux:icon name="bi:broadcast" height="16" width="16" aria-hidden="true" class="bi"/>
				</a>
			</div>
			{% if is_granted('ROLE_MANAGE_PAGER_CONFIGURATION') %}
			<div>
				<a href="{{ path('web_pager_management_pager_add') }}" class="btn btn-secondary" title="{{ 'Add'|trans }}">
					<twig:ux:icon name="bi:plus" height="16" width="16" aria-hidden="true" class="bi"/>
				</a>
			</div>
			{% endif %}

			<div class="input-group flex-grow-1">
				<span class="input-group-text" id="basic-addon2">
					<twig:ux:icon name="bi:search" height="16" width="16" aria-hidden="true" class="bi"/>
				</span>
				<input type="text" class="form-control" placeholder="{{ 'Search'|trans }}" aria-label="{{ 'Search'|trans }}" aria-describedby="basic-addon2">

			</div>

			<nav aria-label="{{ 'List Pagination'|trans }}">
				<ul class="pagination mb-0">
					<li class="page-item">
						<a class="page-link disabled" href="#" aria-label="{{ 'Previous'|trans }}">
							<span aria-hidden="true">&laquo;</span>
						</a>
					</li>
					<li class="page-item active">
						<a class="page-link" href="#">1</a>
					</li>
					<li class="page-item">
						<a class="page-link" href="#">2</a>
					</li>
					<li class="page-item">
						<a class="page-link" href="#">3</a>
					</li>
					<li class="page-item">
						<a class="page-link" href="#" aria-label="{{ 'Next'|trans }}">
							<span aria-hidden="true">&raquo;</span>
						</a>
					</li>
				</ul>
			</nav>

			<div class="input-group flex-shrink-1 w-25">
				<select class="form-select" aria-label="Default select example">
					<option selected>50</option>
					<option value="1">10</option>
					<option value="2">25</option>
					<option value="3">100</option>
				</select>
			</div>

		</div>

		<div class="table-responsive">

			<table class="table table-hover align-middle">
				<thead>
					<tr>
						<th scope="col"><input class="form-check-input" type="checkbox" id="checkboxNoLabel" value="" aria-label="{{ 'Select all'|trans  }}"/></th>

						<th scope="col">#</th>
						<th scope="col">{% trans %}Label{% endtrans %}</th>
						<th scope="col">{% trans %}Active{% endtrans %}</th>
						<th scope="col">{% trans %}Assignment{% endtrans %}</th>
						<th scope="col">{% trans %}Channels{% endtrans %}</th>
						<th scope="col">{% trans %}Actions{% endtrans %}</th>
					</tr>
				</thead>
				<tbody class="table-group-divider">

				{% for p in pager %}
					<tr>
						<th>
							<input class="form-check-input" type="checkbox" id="checkboxNoLabel" value="" aria-label="..."/></th>
						<th scope="row">{{ p.number }}</th>
						<td>{{ p.label }}</td>
						<td>
							{% if p.isActive %}
								<span class="d-inline rounded-pill ps-2 pe-1 text-bg-success fs-6 fw-semibold text-uppercase">{% trans %}Active{% endtrans %}
								<twig:ux:icon name="bi:play-circle" height="16" width="16" aria-hidden="true" class="bi ms-1"/></span>
							{% else %}
								<div class="d-inline rounded-pill ps-2 pe-1 text-bg-danger fs-6 fw-semibold text-uppercase">{% trans %}Inactive{% endtrans %}
									<twig:ux:icon name="bi:pause-circle" height="16" width="16" aria-hidden="true" class="bi ms-1"/></div>
							{% endif %}
						</td>
						<td>Jane Doe</td>
						<td>Alle</td>
						<td>
							<a href="{{ path('web_pager_management_pager_details', {id: p.id} ) }}" class="btn btn-outline-primary btn-sm">

								{% if is_granted('ROLE_MANAGE_PAGER_STATUS') %}
									<twig:ux:icon name="bi:pencil" height="16" width="16" aria-hidden="true" class="bi"/>
								{% else %}
									<twig:ux:icon name="bi:eye" height="16" width="16" aria-hidden="true" class="bi"/>
								{% endif %}

							</a>

							{% if is_granted('ROLE_MANAGE_PAGER_STATUS') %}
								{% if p.isActive %}
									<!-- TODO make button do something -->
									<button type="button" class="btn btn-outline-danger btn-sm">
										<twig:ux:icon name="bi:pause" height="16" width="16" aria-hidden="true" class="bi"/>
									</button>
								{% else %}
									<button type="button" class="btn btn-outline-success btn-sm">
										<twig:ux:icon name="bi:play" height="16" width="16" aria-hidden="true" class="bi"/></button>
								{% endif %}
							{% endif %}
						</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</main>
{% endblock %}
