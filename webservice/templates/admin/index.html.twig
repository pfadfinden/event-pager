{% extends 'layout.html.twig' %}

{% block title %}Pager-Admin{% endblock %}

{% block main %}
	<main class="main-container mx-auto p-4">
		<h1>Admin</h1>

		<h2 class="mt-5 mb-4">Status</h2>

		{{ component('Status') }}

		{% if is_granted('ROLE_VIEW_RECIPIENTS') %}
			<h2 class="mt-5 mb-4">{% trans %}Organisation{% endtrans %}</h2>
			{{ component('OrgStats') }}

			<div class="d-flex flex-wrap gap-2 mt-3">
				<a href="{{ path('web_recipient_management_overview') }}" class="btn btn-outline-primary">
					<twig:ux:icon name="bi:people" height="16" width="16" aria-hidden="true" class="bi me-1"/>
					{% trans %}Manage Recipients{% endtrans %}
				</a>
				{% if is_granted('ROLE_MANAGE_RECIPIENT_INDIVIDUALS') %}
					<a href="{{ path('web_recipient_management_person_add') }}" class="btn btn-outline-secondary">
						<twig:ux:icon name="bi:person-plus" height="16" width="16" aria-hidden="true" class="bi me-1"/>
						{% trans %}Add Person{% endtrans %}
					</a>
				{% endif %}
				{% if is_granted('ROLE_MANAGE_RECIPIENT_GROUPS') %}
					<a href="{{ path('web_recipient_management_group_add') }}" class="btn btn-outline-secondary">
						<twig:ux:icon name="bi:people" height="16" width="16" aria-hidden="true" class="bi me-1"/>
						{% trans %}Add Group{% endtrans %}
					</a>
				{% endif %}
				{% if is_granted('ROLE_MANAGE_RECIPIENT_ROLES') %}
					<a href="{{ path('web_recipient_management_role_add') }}" class="btn btn-outline-secondary">
						<twig:ux:icon name="bi:person-badge" height="16" width="16" aria-hidden="true" class="bi me-1"/>
						{% trans %}Add Role{% endtrans %}
					</a>
				{% endif %}
			</div>
		{% endif %}

		{% if is_granted('ROLE_TRANSPORT_CONFIGURATION_VIEWER') %}
			<h2 class="mt-5 mb-4">Transports</h2>
			{{ component('TransportList') }}
		{% endif %}

		{% if is_granted('ROLE_USERMANAGEMENT_VIEW') %}
			<h2 class="mt-5 mb-4">{% trans %}Users{% endtrans %}</h2>
			{{ component('UserStats') }}

            <div class="d-flex flex-wrap gap-2 mt-3">
                <a href="{{ path('web_admin_user_overview') }}" class="btn btn-outline-primary">
                    <twig:ux:icon name="bi:people" height="16" width="16" aria-hidden="true" class="bi me-1"/>
                    {% trans %}Manage Users{% endtrans %}
                </a>
                {% if is_granted('ROLE_USERMANAGEMENT_ADDUSER') %}
                    <a href="{{ path('web_admin_user_add') }}" class="btn btn-outline-secondary">
                        <twig:ux:icon name="bi:person-plus" height="16" width="16" aria-hidden="true" class="bi me-1"/>
                        {% trans %}Add User{% endtrans %}
                    </a>
                {% endif %}
            </div>
		{% endif %}

		{% if is_granted('ROLE_VIEW_SYSTEM_INFO') %}
			<h2 class="mt-5">System</h2>

			<div class="d-flex gap-4 my-4 flex-wrap ">

				<div class="card flex-grow-1">
					<div class="card-body">
						<h5 class="card-title">Import</h5>

					</div>
				</div>

				<div class="card flex-grow-1">
					<div class="card-body">
						<h5 class="card-title">Export</h5>

					</div>
				</div>

				<a class="card flex-grow-1 text-decoration-none" role="button" href="/admin/system-info">
					<div class="card-body">
						<h5 class="card-title">System Info</h5>

					</div>
				</a>
			</div>
		{% endif %}
	</main>
{% endblock %}
